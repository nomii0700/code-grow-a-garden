local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local CoreGui = game:GetService("CoreGui")

-- 1. UI SETUP
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "UniversalClaimer"
if gethui then ScreenGui.Parent = gethui() else ScreenGui.Parent = CoreGui end

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 500, 0, 350)
Frame.Position = UDim2.new(0.5, -250, 0.5, -175)
Frame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
Frame.BorderColor3 = Color3.fromRGB(255, 0, 0)
Frame.BorderSizePixel = 2
Frame.Parent = ScreenGui

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 40)
Title.Text = "REMOTE FINDER & CLAIMER"
Title.TextColor3 = Color3.fromRGB(255, 0, 0)
Title.TextSize = 24
Title.Font = Enum.Font.SourceSansBold
Title.BackgroundTransparency = 1
Title.Parent = Frame

local LogBox = Instance.new("ScrollingFrame")
LogBox.Size = UDim2.new(1, -20, 0, 200)
LogBox.Position = UDim2.new(0, 10, 0, 50)
LogBox.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
LogBox.Parent = Frame
LogBox.AutomaticCanvasSize = Enum.AutomaticSize.Y

local UIListLayout = Instance.new("UIListLayout")
UIListLayout.Parent = LogBox

local function Log(text, color)
    local lbl = Instance.new("TextLabel")
    lbl.Size = UDim2.new(1, 0, 0, 20)
    lbl.Text = text
    lbl.TextColor3 = color or Color3.new(1,1,1)
    lbl.BackgroundTransparency = 1
    lbl.Parent = LogBox
end

-- 2. FIND ALL REMOTES
local allRemotes = {}
Log("Scanning...", Color3.new(1,1,0))

for _, v in pairs(ReplicatedStorage:GetDescendants()) do
    if v:IsA("RemoteEvent") then
        table.insert(allRemotes, v)
        Log("FOUND: " .. v.Name, Color3.new(0,1,0))
    end
end

Log("Total Remotes Found: " .. #allRemotes, Color3.new(1,1,1))

-- 3. THE "FIRE ALL" BUTTON
local FireBtn = Instance.new("TextButton")
FireBtn.Size = UDim2.new(0, 200, 0, 50)
FireBtn.Position = UDim2.new(0.5, -100, 1, -60)
FireBtn.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
FireBtn.Text = "FORCE CLAIM (TRY ALL)"
FireBtn.TextColor3 = Color3.new(1,1,1)
FireBtn.TextSize = 20
FireBtn.Font = Enum.Font.SourceSansBold
FireBtn.Parent = Frame

FireBtn.MouseButton1Click:Connect(function()
    FireBtn.Text = "FIRING..."
    FireBtn.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
    
    Log("------------------", Color3.new(1,1,1))
    Log("FIRING EVERY REMOTE...", Color3.new(1,0.5,0))
    
    for _, remote in pairs(allRemotes) do
        task.spawn(function()
            -- Try to claim 100 levels on THIS remote
            -- We try many different "arguments" because we don't know which one works
            for i = 1, 100 do
                remote:FireServer("Claim", i)
                remote:FireServer("ClaimReward", i)
                remote:FireServer("Redeem", i)
                remote:FireServer(i)
            end
            Log("Fired: " .. remote.Name, Color3.new(0.5, 0.5, 1))
        end)
        task.wait(0.05) -- Slight delay to prevent crash
    end
    
    Log("DONE! Check Inventory.", Color3.new(0,1,0))
    FireBtn.Text = "DONE"
end)

-- Close Button
local Close = Instance.new("TextButton")
Close.Size = UDim2.new(0,30,0,30)
Close.Position = UDim2.new(1,-30,0,0)
Close.Text = "X"
Close.BackgroundColor3 = Color3.new(1,0,0)
Close.Parent = Frame
Close.MouseButton1Click:Connect(function() ScreenGui:Destroy() end)
